version: '3'
services:
  hotnow-htkn-platform:
    image: "${REGISTRY:-hotnow-htkn-platform}:${TAG:-latest}"
    build: .
    container_name: hotnow-htkn-platform
    working_dir: "/usr/src"
    command: "python -u token_platform/server.py"
    ports:
      - "8081:80"
    volumes:
      - "./:/usr/src"
    environment:
      - ASSET_CODE=HTKN
      - ISSUER=GDSB3JZDYKLYKWZ6NXDPPGPCYJ32ISMTZ2LVF5PYQGY4B4FGNIU2M5BJ
      - STELLAR_NETWORK=TESTNET
      - PYTHONPATH=/usr/src/token_platform
      - LOCAL_HORIZON=http://horizon-integrationnet:8000
      - LOCAL_PASSPHRASE=Integration Test Network ; zulucrypto
      - PASSPHRASE=Integration Test Network ; zulucrypto
    networks:
      - hotnow-network
networks:
  hotnow-network:
    external:
      name: hotnow-network
